<link rel="preload" href="/notion-site/bookmark/bookmark.css" as="style">
<link rel="stylesheet" href="/notion-site/bookmark/bookmark.css" data-n-g="">

<a class="notion-site-bookmark" href="{{ .Get "url" }}" target="_blank" rel="noreferrer">
    <article class="flex justify-between h-24 rounded border border-gray-300 border-solid hover:border-gray-400 transition-colors duration-200">
        <div class="flex flex-col justify-between p-4 hover:bg-gray-50 w-3/4 not-prose truncate">
            <h3 class="text-lg font-medium truncate leading-tight ">{{ .Get "title" }}</h3>

            <!-- 描述：仅显示前 200 字符，多余部分加 … -->
            <div class="text-sm text-gray-600 notion-site-bookmark-p line-clamp-2">
                {{ with .Get "des" }}
                    {{ . | truncate 120 }}
                {{ else }}
                    {{ .Inner | markdownify | plainify | truncate 120 }}
                {{ end }}
            </div>

            <div class="flex items-center">
                <!-- 如果想显示 icon，可以取消注释 -->
                <!-- <img src="{{ .Get "icon" }}" class="h-4 w-4 mr-2" alt=""> -->
                <p class="text-xs text-gray-500 truncate notion-site-bookmark-p">
                    {{ .Get "url" | replaceRE "^https?://" "" | replaceRE "/.*$" "" }}
                </p>
            </div>
        </div>

        <div class="w-1/4 h-full rounded-r overflow-hidden bg-gray-100 flex items-center justify-center relative">
            {{ if .Get "image" }}
                <img 
                    src="{{ .Get "image" }}" 
                    class="object-cover w-full h-full absolute inset-0" 
                    alt=""
                    loading="lazy"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
                >
                <!-- 图片加载失败时的优雅降级 -->
                <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 0v14h14V5H5zm11.5 4a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM5 15l3-3 2 2 4-4 5 5v2H5v-2z"/>
                    </svg>
                </div>
            {{ else }}
                <!-- 没有图片时的默认占位 -->
                <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M13 9h5.5L13 3.5V9zM6 2h8l6 6v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4a2 2 0 012-2zm0 18h12V9h-6V3H6v17z"/>
                    </svg>
                </div>
            {{ end }}
        </div>
    </article>
</a>
