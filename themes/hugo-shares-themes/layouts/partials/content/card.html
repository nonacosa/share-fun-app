<article class="flex flex-col items-start justify-between bg-white dark:bg-gray-900 rounded-2xl overflow-hidden group hover:shadow-lg transition-all duration-300">
	<div class="relative w-full">
		<a href="{{ .Permalink }}" class="absolute inset-0 z-10"></a>
		{{- if .Params.image }}
		  {{- if (strings.HasPrefix .Params.image "http") }}
			<img src="{{ .Params.image }}" alt="{{ .Title }}" 
				 class="aspect-video w-full rounded-t-2xl bg-gradient-to-br from-gray-100 to-gray-200 object-cover sm:aspect-2/1 lg:aspect-3/2 dark:from-gray-700 dark:to-gray-800 opacity-0 transition-opacity duration-300 group-hover:opacity-90" 
				 loading="lazy" 
				 onload="this.classList.remove('opacity-0')" />
		  {{- else }}
			{{- with $imgcard := .Resources.GetMatch .Params.image -}}
			  {{- $imgcard := $imgcard.Process "resize 750x" -}}
			  <img src="{{ $imgcard.Permalink }}" alt="{{ .Title }}" 
				 class="aspect-video w-full rounded-t-2xl bg-gradient-to-br from-gray-100 to-gray-200 object-cover sm:aspect-2/1 lg:aspect-3/2 dark:from-gray-700 dark:to-gray-800 opacity-0 transition-opacity duration-300 group-hover:opacity-90" 
				 loading="lazy" 
				 onload="this.classList.remove('opacity-0')" />
			{{- else }}
			  {{- $basePath := .RelPermalink -}}
			  {{- if eq .Site.Language.Lang "en" -}}
				{{- $basePath = strings.TrimPrefix "/en" .RelPermalink -}}
			  {{- end -}}
			  {{- $imagePath := printf "%s%s" $basePath .Params.image }}
			  <img src="{{ $imagePath }}" alt="{{ .Title }}" 
				 class="aspect-video w-full rounded-t-2xl bg-gradient-to-br from-gray-100 to-gray-200 object-cover sm:aspect-2/1 lg:aspect-3/2 dark:from-gray-700 dark:to-gray-800 opacity-0 transition-opacity duration-300 group-hover:opacity-90" 
				 loading="lazy" 
				 onload="this.classList.remove('opacity-0')" />
			{{- end }}
		  {{- end }}
		{{- end }}
		<div class="absolute inset-0 rounded-t-2xl inset-ring inset-ring-gray-900/10 dark:inset-ring-white/10"></div>
	</div>
	<div class="flex max-w-xl grow flex-col justify-between p-6 w-full bg-white">
		<div class="flex items-center gap-x-4 text-xs mb-4">
			<time datetime="{{ .Date.Format "2006-01-02T15:04:05-07:00" | safeHTML }}" class="text-gray-500 dark:text-gray-400">{{ .Date.Format "Jan 02, 2006" }}</time>
			{{ if .Params.categories }}
				{{ range first 1 .Params.categories }}
					<a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font-medium text-gray-600 hover:bg-gray-100 dark:bg-gray-800/60 dark:text-gray-300 dark:hover:bg-gray-800">{{ . }}</a>
				{{ end }}
			{{ end }}
		</div>
		<div class="group relative grow">
			<h3 class="text-lg font-semibold text-gray-900 group-hover:text-gray-600 dark:text-white dark:group-hover:text-gray-300 mb-2">
				{{ .LinkTitle }}
			</h3>
			{{ if .Params.description }}
			<p class="line-clamp-3 text-sm text-gray-600 dark:text-gray-400 leading-relaxed">{{ .Params.description }}</p>
			{{ end }}
		</div>
	</div>
</article>