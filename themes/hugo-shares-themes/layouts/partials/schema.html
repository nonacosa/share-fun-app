{{/* Website Schema */}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": {{ .Site.Title | jsonify }},
  "url": {{ .Site.BaseURL | jsonify }},
  "description": {{ .Site.Params.description | jsonify }},
  "publisher": {
    "@type": "Organization",
    "name": {{ .Site.Title | jsonify }},
    "url": {{ .Site.BaseURL | jsonify }}
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": {
      "@type": "EntryPoint",
      "urlTemplate": "{{ .Site.BaseURL }}?s={search_term_string}"
    },
    "query-input": "required name=search_term_string"
  }
}
</script>

{{ if .IsPage }}
{{/* Article Schema for individual posts */}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": {{ .Title | jsonify }},
  "description": {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end }},
  "url": {{ .Permalink | jsonify }},
  "datePublished": {{ .PublishDate.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "dateModified": {{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" | jsonify }},
  "author": {
    "@type": "Person",
    "name": {{ with .Params.author }}{{ . | jsonify }}{{ else }}{{ .Site.Params.author.name | jsonify }}{{ end }}
  },
  "publisher": {
    "@type": "Organization",
    "name": {{ .Site.Title | jsonify }},
    "url": {{ .Site.BaseURL | jsonify }}
  },
  {{ with .Params.image }}
  "image": {
    "@type": "ImageObject",
    "url": "{{ $.Permalink }}{{ . }}"
  },
  {{ end }}
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": {{ .Permalink | jsonify }}
  }
  {{ with .Params.tags }}
  ,"keywords": {{ . | jsonify }}
  {{ end }}
}
</script>

{{/* Software Application Schema for tool reviews */}}
{{ if in .Params.tags "AI工具" }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": {{ .Title | jsonify }},
  "description": {{ with .Description }}{{ . | jsonify }}{{ else }}{{ .Summary | jsonify }}{{ end }},
  "url": {{ .Permalink | jsonify }},
  "applicationCategory": "WebApplication",
  "operatingSystem": "Web Browser",
  "review": {
    "@type": "Review",
    "reviewBody": {{ .Summary | jsonify }},
    "author": {
      "@type": "Person",
      "name": {{ with .Params.author }}{{ . | jsonify }}{{ else }}{{ .Site.Params.author.name | jsonify }}{{ end }}
    },
    "datePublished": {{ .PublishDate.Format "2006-01-02T15:04:05Z07:00" | jsonify }}
  }
}
</script>
{{ end }}
{{ end }}

{{ if .IsHome }}
{{/* Organization Schema for homepage */}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": {{ .Site.Title | jsonify }},
  "url": {{ .Site.BaseURL | jsonify }},
  "description": {{ .Site.Params.description | jsonify }},
  "logo": {
    "@type": "ImageObject",
    "url": "{{ .Site.BaseURL }}{{ .Site.Params.defaultImage }}"
  },
  "sameAs": [
    {{ with .Site.Params.author.github }}"{{ . }}",{{ end }}
    {{ with .Site.Params.author.x }}"{{ . }}",{{ end }}
    {{ with .Site.Params.author.linkedin }}"{{ . }}"{{ end }}
  ]
}
</script>
{{ end }}