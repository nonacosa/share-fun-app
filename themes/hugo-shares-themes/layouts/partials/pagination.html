{{/* 分页组件 - 使用 DaisyUI radio input 样式 */}}
{{ $paginator := .paginator }}
{{ if gt $paginator.TotalPages 1 }}
<div class="flex justify-center mt-10">
  <div class="join">
    {{/* 上一页按钮 */}}
    {{ if $paginator.HasPrev }}
      <a href="{{ $paginator.Prev.URL }}" class="join-item btn btn-square">‹</a>
    {{ else }}
      <button class="join-item btn btn-square btn-disabled">‹</button>
    {{ end }}
    
    {{/* 计算显示的页码范围 */}}
    {{ $currentPage := $paginator.PageNumber }}
    {{ $totalPages := $paginator.TotalPages }}
    {{ $showPages := 5 }}  {{/* 最多显示5个页码 */}}
    
    {{/* 计算起始和结束页码 */}}
    {{ $startPage := 1 }}
    {{ $endPage := $totalPages }}
    
    {{ if gt $totalPages $showPages }}
      {{ $halfShow := div $showPages 2 }}
      {{ $startPage = sub $currentPage $halfShow }}
      {{ $endPage = add $currentPage $halfShow }}
      
      {{ if lt $startPage 1 }}
        {{ $startPage = 1 }}
        {{ $endPage = $showPages }}
      {{ end }}
      
      {{ if gt $endPage $totalPages }}
        {{ $endPage = $totalPages }}
        {{ $startPage = sub $totalPages (sub $showPages 1) }}
      {{ end }}
    {{ end }}
    
    {{/* 显示第一页（如果需要） */}}
    {{ if gt $startPage 1 }}
      {{ if eq 1 $currentPage }}
        <input class="join-item btn btn-square" type="radio" name="pagination" aria-label="1" checked="checked" disabled />
      {{ else }}
        <a href="{{ $paginator.First.URL }}" class="join-item btn btn-square" aria-label="第1页">1</a>
      {{ end }}
      {{ if gt $startPage 2 }}
        <button class="join-item btn btn-square btn-disabled">…</button>
      {{ end }}
    {{ end }}
    
    {{/* 显示页码 */}}
    {{ range $paginator.Pagers }}
      {{ if and (ge .PageNumber $startPage) (le .PageNumber $endPage) }}
        {{ if eq .PageNumber $currentPage }}
          <input class="join-item btn btn-square" type="radio" name="pagination" aria-label="{{ .PageNumber }}" checked="checked" disabled />
        {{ else }}
          <a href="{{ .URL }}" class="join-item btn btn-square" aria-label="第{{ .PageNumber }}页">{{ .PageNumber }}</a>
        {{ end }}
      {{ end }}
    {{ end }}
    
    {{/* 显示最后一页（如果需要） */}}
    {{ if lt $endPage $totalPages }}
      {{ if lt $endPage (sub $totalPages 1) }}
        <button class="join-item btn btn-square btn-disabled">…</button>
      {{ end }}
      {{ if eq $totalPages $currentPage }}
        <input class="join-item btn btn-square" type="radio" name="pagination" aria-label="{{ $totalPages }}" checked="checked" disabled />
      {{ else }}
        <a href="{{ $paginator.Last.URL }}" class="join-item btn btn-square" aria-label="第{{ $totalPages }}页">{{ $totalPages }}</a>
      {{ end }}
    {{ end }}
    
    {{/* 下一页按钮 */}}
    {{ if $paginator.HasNext }}
      <a href="{{ $paginator.Next.URL }}" class="join-item btn btn-square">›</a>
    {{ else }}
      <button class="join-item btn btn-square btn-disabled">›</button>
    {{ end }}
  </div>
</div>
{{ end }}